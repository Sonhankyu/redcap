(("undefined"!==typeof self?self:this)["webpackJsonpdatamart_vue"]=("undefined"!==typeof self?self:this)["webpackJsonpdatamart_vue"]||[]).push([[4],{"41a0":function(e,t,i){"use strict";var a=i("8dbb"),s=i.n(a);s.a},"76ae":function(e,t,i){"use strict";var a=i("faca"),s=i.n(a);s.a},8078:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-card",{attrs:{"header-tag":"header","header-bg-variant":"info","header-text-variant":"white","no-body":""},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"d-flex align-items-center"},[i("h4",{staticClass:"mb-0  mr-5 font-weight-bold text-nowrap"},[e._v("Source Fields List")]),i("b-form-group",{staticClass:"mb-0 ml-auto",attrs:{"label-for":"filter-input","label-cols-sm":"0","label-align-sm":"left","label-size":"sm"}},[i("b-input-group",{attrs:{size:"sm"}},[i("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search",debounce:"300"},model:{value:e.textProxy,callback:function(t){e.textProxy=t},expression:"textProxy"}}),i("b-input-group-append",[i("b-button",{attrs:{disabled:!e.textProxy},on:{click:e.resetQuery}},[e._v("Clear")])],1)],1)],1)],1)]},proxy:!0}])},[i("div",{staticClass:"p-2",attrs:{id:"selected-list"}},[i("FieldCategory",{attrs:{container:e.container}})],1)])],1)},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.totalVisible>0?i("div",{staticClass:"field-category m-0 p-0"},[""!==e.container.id?i("header",{staticClass:"d-flex"},[i("section",{staticClass:"d-inline mr-2",on:{click:e.toggle}},[e.collapsed?i("font-awesome-icon",{attrs:{icon:["fas","chevron-circle-right"],"fixed-width":""}}):i("font-awesome-icon",{attrs:{icon:["fas","chevron-circle-down"],"fixed-width":""}})],1),i("section",{staticClass:"font-weight-bold",on:{click:e.toggle}},[i("span",[e._v(e._s(e.container.id))]),i("span",{staticClass:"d-block small font-italic text-muted"},[e.query?[e._v("showing "+e._s(e.totalVisible)+" of "+e._s(e.totalOverallFields)+" | ")]:e._e(),[e._v(e._s(e.totalOverallSelected)+"/"+e._s(e.totalVisible)+" field"+e._s(1===e.totalVisible?"":"s")+" selected")],e.totalOverallDisabled>0?[e._v(" ("+e._s(e.totalOverallDisabled)+" field"+e._s(1===e.totalOverallDisabled?"":"s")+" disabled)")]:e._e()],2)]),i("div",{staticClass:"ml-auto text-nowrap"},[i("b-button",{attrs:{size:"sm",variant:e.allSelected?"success":"light"},on:{click:function(t){return e.toggleAll(!e.allSelected)}}},[e.allSelected?i("span",[e._v("deselect all")]):i("span",[e._v("select all")])])],1)]):e._e(),e.collapsed&&""!==e.container.id?e._e():i("div",{staticClass:"children",class:{"ml-5":""!==e.container.id}},[e._l(e.container.children,(function(t,a){return[!e.isFhirField(t)||e.isFhirField(t)&&!t.hidden?i("section",{key:a},[e.isFhirField(t)?[i("FieldNode",{staticClass:"py-1",attrs:{data:t}})]:[i("FieldCategory",{staticClass:"py-1",attrs:{container:t}})]],2):e._e()]}))],2)]):e._e()},n=[],r=(i("4de4"),i("d81d"),i("1a2b")),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ml-0 p-0 d-flex align-items-center fhir"},[i("b-form-checkbox",{attrs:{id:"checkbox-"+e.data.field,disabled:e.disabled,switch:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),i("label",{staticClass:"m-0",class:{"disabled-option":e.data.disabled},attrs:{for:"checkbox-"+e.data.field}},[i("span",[e._v(e._s(e.data.field))]),i("span",{staticClass:"ml-2 font-italic"},[e._v("("+e._s(e.data.label)+")")])]),e.data.disabled?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2 text-danger",attrs:{title:""+e.data.disabled_reason}},[i("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"],"fixed-width":""}})],1):e._e()],1)},d=[],c=(i("c975"),{data:function(){return{}},props:{data:{type:[r["a"]],default:null}},created:function(){},computed:{mandatoryFields:function(){return this.$store.state.settings.mandatoryFields},disabled:function(){var e=this.data.field;return this.mandatoryFields.indexOf(e)>=0},selected:{get:function(){return this.mandatoryFields.indexOf(this.data.field)>=0||this.data.selected},set:function(e){var t=this.data.field;this.$store.dispatch("revision/updateFields",{name:t,checked:e})}}},methods:{onClick:function(e){var t={field:e.field+="miao"};this.$store.dispatch("metadata/update",{item:e,params:t})},onChange:function(e){this.data.selected=e}}}),u=c,f=(i("d57d"),i("2877")),h=Object(f["a"])(u,o,d,!1,null,"68ec7a74",null),v=h.exports,p=i("2ef0"),b={name:"FieldCategory",data:function(){return{collapsed:!0,count:0}},components:{FieldNode:v},props:{container:{type:r["b"],default:null}},computed:{query:function(){return this.$store.state.metadata.query},fields:function(){return this.container.getFields()},overallFields:function(){return this.container.getFields(!0)},visibleFields:function(){return this.fields.filter((function(e){var t=e.hidden;return!t}))},overallVisibleFields:function(){return this.overallFields.filter((function(e){var t=e.hidden;return!t}))},overallDisabledFields:function(){return this.overallFields.filter((function(e){var t=e.disabled;return t}))},selected:function(){var e=this.$store.state.revision.fields,t=this.visibleFields.map((function(e){var t=e.field;return t}));return Object(p["intersection"])(t,e)},overallSelected:function(){var e=this.$store.state.revision.fields,t=this.overallVisibleFields.map((function(e){var t=e.field;return t}));return Object(p["intersection"])(t,e)},totalFields:function(){return this.fields.length},totalOverallFields:function(){return this.overallFields.length},totalSelected:function(){return this.selected.length},totalOverallSelected:function(){return this.overallSelected.length},totalVisible:function(){return this.overallVisibleFields.length},totalOverallDisabled:function(){return this.overallDisabledFields.length},allSelected:{get:function(){var e=this.totalVisible==this.totalOverallSelected;return e},set:function(e){var t=this.$store.state.revision.fields,i=this.overallVisibleFields.map((function(e){var t=e.field;return t}));t=e?Object(p["union"])(i,t):Object(p["difference"])(t,i),this.$store.dispatch("revision/setFields",t)}},indeterminate:{get:function(){return 0!=this.totalSelected&&!this.allSelected},set:function(e){}}},methods:{isFhirField:function(e){return e instanceof r["a"]},toggle:function(){this.collapsed=!this.collapsed},toggleAll:function(e){var t=this.$store.state.revision.fields,i=this.overallVisibleFields.map((function(e){var t=e.field;return t}));t=e?Object(p["union"])(i,t):Object(p["difference"])(t,i),this.$store.dispatch("revision/setFields",t)}},watch:{query:{immediate:!1,handler:function(e){""===e&&(this.collapsed=!0)}}}},m=b,g=(i("76ae"),Object(f["a"])(m,l,n,!1,null,"1e3f178e",null)),F=g.exports,x={components:{FieldCategory:F},data:function(){return{text:""}},created:function(){this.resetQuery()},computed:{hiddenFields:function(){return this.$store.state.metadata.hiddenList},container:function(){var e=this.$store.getters["metadata/filteredGroups"];return e},textProxy:{get:function(){return this.text},set:function(e){this.text=e,this.applyFilter()}}},methods:{resetQuery:function(){this.textProxy=""},applyFilter:function(){this.$store.dispatch("metadata/setQuery",this.text)}}},_=x,y=(i("41a0"),Object(f["a"])(_,a,s,!1,null,"3596dd8e",null));t["a"]=y.exports},"8dbb":function(e,t,i){},c961:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-wrapper"},[i("SelectableFhirResourcesPanel")],1)},s=[],l=i("8078"),n={components:{SelectableFhirResourcesPanel:l["a"]},data:function(){return{}},computed:{},methods:{},watch:{}},r=n,o=i("2877"),d=Object(o["a"])(r,a,s,!1,null,"5ddccbbb",null);t["default"]=d.exports},d57d:function(e,t,i){"use strict";var a=i("f9ff"),s=i.n(a);s.a},f9ff:function(e,t,i){},faca:function(e,t,i){}}]);
//# sourceMappingURL=datamart_vue.umd.min.4.js.map