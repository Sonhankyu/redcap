(("undefined"!==typeof self?self:this)["webpackJsonpmapping_helper_vue"]=("undefined"!==typeof self?self:this)["webpackJsonpmapping_helper_vue"]||[]).push([[6],{"0c58":function(t,e,n){"use strict";var a=n("cfb9"),r=n.n(a);r.a},"1ada":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[t._v(t._s(t.description))])])},r=[],o={props:{description:{type:String,default:""}}},i=o,s=n("2877"),c=Object(s["a"])(i,a,r,!1,null,null,null);e["a"]=c.exports},"210c":function(t,e,n){},"3b2b":function(t,e,n){var a=n("7726"),r=n("5dbc"),o=n("86cc").f,i=n("9093").f,s=n("aae3"),c=n("0bfb"),u=a.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(n("9e1e")&&(!h||n("79e5")((function(){return p[n("2b4c")("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")})))){u=function(t,e){var n=this instanceof u,a=s(t),o=void 0===e;return!n&&a&&t.constructor===u&&o?t:r(h?new l(a&&!o?t.source:t,e):l((a=t instanceof u)?t.source:t,a&&o?c.call(t):e),n?this:f,u)};for(var m=function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},v=i(l),b=0;v.length>b;)m(v[b++]);f.constructor=u,u.prototype=f,n("2aba")(a,"RegExp",u)}n("7a56")("RegExp")},4917:function(t,e,n){"use strict";var a=n("cb7c"),r=n("9def"),o=n("0390"),i=n("5f1b");n("214f")("match",1,(function(t,e,n,s){return[function(n){var a=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=s(n,t,this);if(e.done)return e.value;var c=a(t),u=String(this);if(!c.global)return i(c,u);var l=c.unicode;c.lastIndex=0;var f,d=[],p=0;while(null!==(f=i(c,u))){var h=String(f[0]);d[p]=h,""===h&&(c.lastIndex=o(u,r(c.lastIndex),l)),p++}return 0===p?null:d}]}))},5062:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-alert",{attrs:{show:null!==t.payload,variant:"light"}},[n("h6",[t._v("Raw response")]),n("div",[n("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){t.show=!t.show}}},[t.show?n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","chevron-down"],"fixed-width":""}}):n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","chevron-right"],"fixed-width":""}}),n("span",{staticClass:"ml-2"},[t._v("Show")])],1),n("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"primary"},on:{click:t.onDownloadClicked}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","download"],"fixed-width":""}}),n("span",{staticClass:"ml-2"},[t._v("Download")])],1)],1),n("Node",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"raw-response",attrs:{payload:t.payload}})],1),n("b-modal",{ref:"save-modal",attrs:{title:"Download response"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[n("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(t){return a()}}},[t._v("\n        Cancel\n      ")]),n("b-button",{attrs:{size:"sm",variant:"success",disabled:!t.filename},on:{click:t.onSaveOkClicked}},[n("font-awesome-icon",{attrs:{icon:["fas","save"],"fixed-width":""}}),n("span",{staticClass:"ml-2"},[t._v("Save")])],1)]}}])},[n("div",[n("b-input",{attrs:{placeholder:"enter a name...",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSaveOkClicked(e)}},model:{value:t.filename,callback:function(e){t.filename="string"===typeof e?e.trim():e},expression:"filename"}})],1)])],1)},r=[],o=n("6fc5"),i={components:{Node:o["a"]},data:function(){return{filename:"",show:!1}},props:{payload:{type:[Object,Array],default:function(){return{}}}},methods:{onDownloadClicked:function(){var t=this.$refs["save-modal"];t&&(this.filename="",t.show())},onSaveOkClicked:function(){if(""!=this.filename){this.download(JSON.stringify(this.payload,null,2),this.filename);var t=this.$refs["save-modal"];t&&t.hide()}},download:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.txt",n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},s=i,c=(n("aa6c"),n("2877")),u=Object(c["a"])(s,a,r,!1,null,"e3945ed0",null);e["a"]=u.exports},"5d58":function(t,e,n){t.exports=n("d8d6")},"5dbc":function(t,e,n){var a=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var o,i=e.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&a(o)&&r&&r(t,o),t}},"68f9":function(t,e,n){"use strict";var a=n("7618"),r=(n("d185"),new Proxy((function(){return{}}),{get:function(t,e,n){return"name"===e?"Undefined":r},apply:function(){return r}})),o=function t(e){return new Proxy(e,{get:function(e,n){var o=Reflect.get(e,n);return"object"===Object(a["a"])(o)?t(o):void 0==o?r:o}})};e["a"]=o},"6fc5":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"node"},[t.isArray(t.payload)?n("span",{staticClass:"parenthesis open",domProps:{textContent:t._s("[")}}):t._e(),t.isObject(t.payload)?n("span",{staticClass:"parenthesis open",domProps:{textContent:t._s("{")}}):t._e(),n("span",{staticClass:"expander text-muted",on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[t.open?n("font-awesome-icon",{attrs:{icon:["fas","chevron-circle-down"]}}):n("font-awesome-icon",{attrs:{icon:["fas","chevron-circle-right"]}})],1),t.open?t._l(t.payload,(function(e,a){return n("span",{key:a,staticClass:"child d-block ml-2"},[t.isArray(t.payload)?t._e():n("span",{staticClass:"mr-2 font-weight-bold"},[t._v('"'+t._s(a)+'":')]),t.isLeaf(e)?n("span",{class:t.getClass(e),domProps:{textContent:t._s(t.print(e))}}):n("Node",{attrs:{payload:e}}),t.isLast(a)?t._e():n("span",[t._v(",")])],1)})):t._e(),t.isArray(t.payload)?n("span",{staticClass:"parenthesis closed",domProps:{textContent:t._s("]")}}):t._e(),t.isObject(t.payload)?n("span",{staticClass:"parenthesis closed",domProps:{textContent:t._s("}")}}):t._e()],2)},r=[],o=n("75fc"),i=(n("ac6a"),n("cadf"),n("456d"),n("7618")),s={name:"Node",data:function(){return{open:!0}},components:{Node:Node},props:{payload:{type:[Object,Array],default:function(){return{}}}},methods:{isLeaf:function(t){return!(this.isObject(t)||this.isArray(t))},isObject:function(t){return"object"===Object(i["a"])(t)&&!Array.isArray(t)},isArray:function(t){return Array.isArray(t)},isLast:function(t){if(this.isObject(this.payload)){var e=Object.keys(this.payload);return e.slice(-1)[0]===t}return!!this.isArray(this.payload)&&t===Object(o["a"])(this.payload).length-1},print:function(t){return"string"===typeof t?'"'.concat(t,'"'):t},getClass:function(t){var e=Object(i["a"])(t);return e},onClick:function(){this.open=!this.open}}},c=s,u=(n("8b67"),n("2877")),l=Object(u["a"])(c,a,r,!1,null,"6adeaa6d",null);e["a"]=l.exports},"75fc":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("a745"),r=n.n(a),o=n("db2a");function i(t){if(r()(t))return Object(o["a"])(t)}var s=n("774e"),c=n.n(s),u=n("c8bb"),l=n.n(u),f=n("67bb"),d=n.n(f);function p(t){if("undefined"!==typeof d.a&&l()(Object(t)))return c()(t)}var h=n("e630");function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t){return i(t)||p(t)||Object(h["a"])(t)||m()}},7618:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("5d58"),r=n.n(a),o=n("67bb"),i=n.n(o);function s(t){return s="function"===typeof i.a&&"symbol"===typeof r.a?function(t){return typeof t}:function(t){return t&&"function"===typeof i.a&&t.constructor===i.a&&t!==i.a.prototype?"symbol":typeof t},s(t)}},"7a56":function(t,e,n){"use strict";var a=n("7726"),r=n("86cc"),o=n("9e1e"),i=n("2b4c")("species");t.exports=function(t){var e=a[t];o&&e&&!e[i]&&r.f(e,i,{configurable:!0,get:function(){return this}})}},8615:function(t,e,n){var a=n("5ca1"),r=n("504c")(!1);a(a.S,"Object",{values:function(t){return r(t)}})},"8b67":function(t,e,n){"use strict";var a=n("f3d9"),r=n.n(a);r.a},"8b97":function(t,e,n){var a=n("d3f4"),r=n("cb7c"),o=function(t,e){if(r(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:o}},"94ee":function(t,e,n){"use strict";var a=n("a6a1"),r=n.n(a);r.a},a6a1:function(t,e,n){},aa6c:function(t,e,n){"use strict";var a=n("210c"),r=n.n(a);r.a},bfe3:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",[n("div",[n("div",[n("b-form-group",{attrs:{label:"MRN","label-for":"mrn-input","label-cols":"2"}},[n("b-form-input",{attrs:{name:"mrn",id:"mrn-input",placeholder:"Enter a medical record number"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetch(e)}},model:{value:t.mrn,callback:function(e){t.mrn="string"===typeof e?e.trim():e},expression:"mrn"}})],1)],1),n("div",{staticClass:"mt-2"},[n("router-view",{ref:"fhir-resource",attrs:{name:"form"},on:{validation_changed:t.onValidationChanged}})],1)]),n("router-view",{staticClass:"mt-2",attrs:{name:"dateRange",from:t.options.dateStart,to:t.options.dateEnd},on:{"update:from":function(e){return t.$set(t.options,"dateStart",e)},"update:to":function(e){return t.$set(t.options,"dateEnd",e)}}}),n("div",{staticClass:"mt-2"},[n("b-button",{attrs:{variant:"outline-primary",size:"sm",disabled:t.isButtonDisabled},on:{click:t.fetch}},[t.loading?n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:"","fixed-width":""}}):n("font-awesome-icon",{attrs:{icon:["fas","cloud-download-alt"],"fixed-width":""}}),n("span",{staticClass:"ml-2"},[t._v("Fetch")])],1)],1),n("ResourceInfo",{staticClass:"mt-2",attrs:{description:t.page_description}})],1),n("ResourceTableWrapper",{attrs:{items:t.fhir_resources},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-view",t._b({attrs:{name:"table"}},"router-view",e,!1))]}}])}),n("PayloadPanel",{attrs:{payload:t.payload}})],1)},r=[],o=(n("8e6e"),n("ac6a"),n("cadf"),n("456d"),n("7f7f"),n("96cf"),n("3b8d")),i=n("bd86"),s=n("68f9"),c=n("1ada"),u=n("5062"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-2"},[n("div",{staticClass:"d-flex align-items-center"},[n("div",[n("b-button",{class:{stacked:t.stacked},attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.stacked=!t.stacked}}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","sync-alt"],"fixed-width":""}}),n("span",{staticClass:"ml-2"},[t._v("Rotate table")])],1)],1),n("b-form-group",{staticClass:"mb-0 ml-2"},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"search...",debounce:"300"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{disabled:!t.filter,variant:t.filter?"warning":"secondary"},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1),n("span",{staticClass:"ml-2"},[t._v("Total: "),n("b",[t._v(t._s(t.totalItems))])]),n("div",{staticClass:"d-flex align-items-center ml-auto"},[t.hasItems?n("b-pagination",{staticClass:"my-auto ml-0",attrs:{"total-rows":t.totalItems,"per-page":t.perPage,size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e(),n("b-dropdown",{staticClass:"ml-2",attrs:{text:"Results per page",size:"sm",variant:"outline-primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("span",[t._v("Per page: "),n("b",[t._v(t._s(t.perPage))])])]},proxy:!0}])},[t._l(t.resultsPerPageOptions,(function(e,a){return[n("b-dropdown-item",{key:"per-page-"+a+"-"+e,attrs:{active:e==t.perPage},on:{click:function(n){t.perPage=e}}},[t._v(t._s(e))])]}))],2)],1)],1),n("div",{staticClass:"resource-table my-2"},[t._t("default",null,{markText:t.markText},t.tableProps)],2)])},f=[],d=(n("4917"),n("8615"),n("75fc")),p=(n("a481"),n("3b2b"),[25,50,100,500]),h={components:{},data:function(){return{filter:null,filterOn:[],stacked:!1,currentPage:1,perPage:p[0],resultsPerPageOptions:p}},methods:{markText:function(t){var e=this.filter;if(!e||"string"!==typeof t)return t;var n=new RegExp("(".concat(e,")"),"ig"),a=t.replace(n,'<mark class="highlight">$1</mark>');return a}},computed:{itemsProxy:function(){var t=this,e=Object(d["a"])(this.items),n=e.filter((function(e){if(!t.filter)return!0;var n=Object.values(e),a=JSON.stringify(n),r=new RegExp(t.filter,"ig");return a.match(r)}));return n},hasItems:function(){return this.itemsProxy.length>0},totalItems:function(){return this.itemsProxy.length},icon_rotation:function(){return this.stacked?90:0},tableProps:function(){return{stacked:this.stacked,items:this.itemsProxy,"filter-included-fields":this.filterOn,"show-empty":!0,currentPage:this.currentPage,perPage:this.perPage,small:!0,bordered:!0,striped:!0,hover:!0}}},props:{items:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return[]}}}},m=h,v=(n("94ee"),n("2877")),b=Object(v["a"])(m,l,f,!1,null,"0ffc8358",null),y=b.exports,g=n("c1df"),_=n.n(g);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x=function(t){if(""==t||null==t)return!0;var e="YYYY-MM-DD";return _()(t,e).format(e)===t},O={components:{ResourceInfo:c["a"],PayloadPanel:u["a"],ResourceTableWrapper:y},data:function(){var t=_()().subtract(1,"years").format("YYYY-MM-DD"),e=_()().format("YYYY-MM-DD");return{test:null,mrn:"",options:{dateStart:t,dateEnd:e},loading:!1,payload:null,fhir_component_validation:{},fhir_resources:[]}},computed:{isButtonDisabled:function(){var t=this.mrn.length||0,e=1==this.loading,n=this.$v.$invalid,a=this.fhir_component_validation.$invalid,r=void 0!==a&&a;return e||t<1||n||r},page_description:function(){var t=this.$route.meta.description,e=void 0===t?"":t;return e}},methods:{fetch:function(){var t=this,e=this.$refs["fhir-resource"];if(e&&"function"==typeof e.getParams){var n=e.getParams()||{},a=n.fhir_category,r=n.options,o=function(){return t.sendFhirRequest(a,k({},r))};o&&this.wrapRequest(o)}},wrapRequest:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,this.error=null,this.payload=null,this.fhir_resources=[],t.next=7,e();case 7:n=t.sent,a=n.data,this.fhir_resources=a,this.payload=k({},n.metadata.payload),t.next=20;break;case 13:t.prev=13,t.t0=t["catch"](0),r="",o=Object(s["a"])(t.t0),i=o.response.data,i.is_error,c=i.message,i.code,r=c||t.t0,this.$bvModal.msgBoxOk(r,{bodyClass:"text-break",title:"Error"});case 20:return t.prev=20,this.loading=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,this,[[0,13,20,23]])})));function e(e){return t.apply(this,arguments)}return e}(),sendFhirRequest:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},a=[],this.options.dateStart&&a.push("ge".concat(this.options.dateStart)),this.options.dateEnd&&a.push("le".concat(this.options.dateEnd)),a.length>0&&(n.date=[].concat(a)),t.next=7,this.$API.dispatch("fhir/fetchResource",e,this.mrn,n);case 7:return r=t.sent,o=r.data,t.abrupt("return",o);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onValidationChanged:function(t){this.fhir_component_validation=t},updateTitle:function(t,e){var n=Object(s["a"])(t).name,a=Object(s["a"])(e).name;n!==a&&(this.payload=null)}},validations:function(){return{dateStart:{isValidDate:x},dateEnd:{isValidDate:x}}},watch:{$route:{immediate:!0,handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updateTitle(t,e),this.fhir_resources=[],this.options={}}}}},C=O,P=(n("0c58"),Object(v["a"])(C,a,r,!1,null,"227b4ed2",null));e["default"]=P.exports},cfb9:function(t,e,n){},d185:function(t,e,n){var a=n("11e9"),r=n("38fd"),o=n("69a8"),i=n("5ca1"),s=n("d3f4"),c=n("cb7c");function u(t,e){var n,i,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=a.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(i=r(t))?u(i,e,l):void 0}i(i.S,"Reflect",{get:u})},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},f3d9:function(t,e,n){}}]);
//# sourceMappingURL=mapping_helper_vue.umd.min.6.js.map